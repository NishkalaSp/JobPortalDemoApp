@model JobPortalDemoApp.Models.WorkExperienceDetailModel

@using DataLayer.Entities

@{
    var count = ViewBag.Count;
    var skills = new List<SelectListItem>();
    foreach (var skill in (List<Skill>)ViewBag.SkillList)
    {
        skills.Add(new SelectListItem()
        {
            Text = skill.Name,
            Value = skill.Id.ToString()
        });
    }
}

<div class="form-group">
    @Html.LabelFor(model => model.CompanyName, htmlAttributes: new { @class = "control-label", Name = "ExperienceDetails[" + count + "].CompanyName" })
    <div>
        @Html.EditorFor(model => model.CompanyName, new { htmlAttributes = new { @class = "form-control", Name = "ExperienceDetails[" + count + "].CompanyName" } })
        @Html.ValidationMessageFor(model => model.CompanyName, "", new { @class = "text-danger", Name = "ExperienceDetails[" + count + "].CompanyName" })
    </div>
</div>

<div class="form-group">
    @Html.LabelFor(model => model.JobTitle, htmlAttributes: new { @class = "control-label", Name = "ExperienceDetails[" + count + "].JobTitle" })
    <div>
        @Html.EditorFor(model => model.JobTitle, new { htmlAttributes = new { @class = "form-control", Name = "ExperienceDetails[" + count + "].JobTitle" } })
        @Html.ValidationMessageFor(model => model.JobTitle, "", new { @class = "text-danger", Name = "ExperienceDetails[" + count + "].JobTitle" })
    </div>
</div>

<div class="form-group">
    @Html.LabelFor(model => model.StartDate, htmlAttributes: new { @class = "control-label", Name = "ExperienceDetails[" + count + "].StartDate" })
    <div>
        @Html.TextBoxFor(model => model.StartDate, new { @class = "form-control customDate", Name = "ExperienceDetails[" + count + "].StartDate" })
        @Html.ValidationMessageFor(model => model.StartDate, "", new { @class = "text-danger", Name = "ExperienceDetails[" + count + "].StartDate" })
    </div>
</div>

<div class="form-group">
    @Html.LabelFor(model => model.EndDate, htmlAttributes: new { @class = "control-label", Name = "ExperienceDetails[" + count + "].EndDate" })
    <div>
        @Html.TextBoxFor(model => model.EndDate, new { @class = "form-control customDate", Name = "ExperienceDetails[" + count + "].EndDate" })
        @Html.ValidationMessageFor(model => model.EndDate, "", new { @class = "text-danger", Name = "ExperienceDetails[" + count + "].EndDate" })
    </div>
</div>


@*<div class="form-group">
    @Html.Label("Skills", htmlAttributes: new { @class = "control-label col-md-2" })
    <div class="col-md-10">
        @Html.DropDownListFor(model => model.SkillId,
              skills,
              "--select--",
              new { @class = "form-control chosen-select", multiple= "multiple",  Name = "ExperienceDetails[" + count + "].Skills" })
    </div>
</div>*@
<div class="form-group">
    @Html.Label("Skills", htmlAttributes: new { @class = "control-label" })
    <select data-placeholder='Choose options...' multiple class='btn chosen-select' name="ExperienceDetails[@count].SkillId">
        @foreach (var item in (List<Skill>)ViewBag.SkillList)
        {
            <option value='@item.Id'>@item.Name</option>
        }
    </select>
</div>
